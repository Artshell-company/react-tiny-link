!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","styled-components"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self)["[libraryCamelCaseName]"]={},n.React,n.styled)}(this,(function(n,e,t){"use strict";function r(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}function i(n){if(n&&n.__esModule)return n;var e=Object.create(null);return n&&Object.keys(n).forEach((function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}})),e.default=n,Object.freeze(e)}var o,a=i(e),c=r(t),u=function(){return u=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},u.apply(this,arguments)};function l(n,e,t,r){return new(t||(t=Promise))((function(i,o){function a(n){try{u(r.next(n))}catch(n){o(n)}}function c(n){try{u(r.throw(n))}catch(n){o(n)}}function u(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(a,c)}u((r=r.apply(n,e||[])).next())}))}function s(n,e){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(n,a)}catch(n){o=[6,n],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function d(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}!function(n){n.TYPE_AMAZON="TYPE_AMAZON",n.TYPE_YOUTUBE="TYPE_YOUTUBE",n.TYPE_AUDIO="TYPE_AUDIO",n.TYPE_VIDEO="TYPE_VIDEO",n.TYPE_IMAGE="TYPE_IMAGE",n.TYPE_DEFAULT="TYPE_DEFAULT",n.TYPE_INSTAGRAM="TYPE_INSTAGRAM",n.TYPE_BOARDGAMEGEEK="TYPE_BOARDGAMEGEEK",n.TYPE_TWITTER="TYPE_TWITTER"}(o||(o={}));var f=/^www\./,p=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.css(w||(w=d(["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "],["\n    @media (max-width: 48em) {\n      ",";\n    }\n  "])),t.css.apply(void 0,n))},m=function(n){return"large"===n},g=function(n){return"string"==typeof n&&!!n.match(/\w+\.(a?png|gif|jpe?g|svg|webp)/gi)},h=function(n){return"string"==typeof n&&!!n.match(/\w+\.(mp4|ogg|webm)/gi)},v=function(n,e){var t=n.find((function(n){return e(n)&&n.startsWith("https://")}));return t||""};function b(n,e){return{title:n.substring(n.lastIndexOf("/")+1),description:n.substring(n.lastIndexOf("/")+1),image:e,url:n,video:e,type:o.TYPE_DEFAULT}}function y(){}var w,x=t.css(P||(P=d(["\n  height: 127px;\n"],["\n  height: 127px;\n"]))),E=t.css(S||(S=d(["\n  height: ",";\n"],["\n  height: ",";\n"])),(function(n){return n.isShownGraphic?"382px;":"auto"})),_=t.css(Y||(Y=d(["\n  flex: 0 0 125px;\n"],["\n  flex: 0 0 125px;\n"]))),k=t.css(A||(A=d(["\n  p {\n    -webkit-box-orient: vertical;\n    display: -webkit-box;\n    -webkit-line-clamp: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n  }\n  ",";\n"],["\n  p {\n    -webkit-box-orient: vertical;\n    display: -webkit-box;\n    -webkit-line-clamp: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n  }\n  ",";\n"])),(function(n){var e=n.maxLine;return e||2}),p(U||(U=d(["\n    > p {\n      \n  -webkit-line-clamp: ",";\n \n    }\n  "],["\n    > p {\n      \n  -webkit-line-clamp: ",";\n \n    }\n  "])),(function(n){var e=n.minLine;return e||1}))),T=t.css(L||(L=d(["\n  p {\n    -webkit-box-orient: vertical;\n    display: -webkit-box;\n    -webkit-line-clamp: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n  }\n  ",";\n"],["\n  p {\n    -webkit-box-orient: vertical;\n    display: -webkit-box;\n    -webkit-line-clamp: ",";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: normal;\n  }\n  ",";\n"])),(function(n){var e=n.maxLine;return e||2}),p(z||(z=d(["\n    > p {\n      -webkit-line-clamp: ",";\n    }\n  "],["\n    > p {\n      -webkit-line-clamp: ",";\n    }\n  "])),(function(n){var e=n.minLine;return e||1}))),O=c.default("div")(j||(j=d(["\n    display: block;\n    height: auto;\n    position: relative;\n    background: ",";\n    \n    flex: ","\n    overflow: hidden;\n    transition: flex-basis 0.25s ease-in-out 0s;\n"],["\n    display: block;\n    height: auto;\n    position: relative;\n    background: ",";\n    \n    flex: ","\n    overflow: hidden;\n    transition: flex-basis 0.25s ease-in-out 0s;\n"])),(function(n){var e=n.src,t=n.placeholderBg,r=n.type;return e?"url("+e+") center center / "+(r===o.TYPE_AUDIO?"contain":"cover")+" no-repeat rgb(225, 232, 237)":t}),(function(n){var e=n.cardSize;return m(e)?"1 1 0%;":"0 0 125px;"}));O.defaultProps={placeholderBg:"rgb(225, 232, 235)"};var P,S,Y,U,A,z,L,j,I,N,M,D,G,W,q=c.default("video")(I||(I=d(["\nwidth:100%;\ndisplay: block;\nheight: 100%;\n    position: relative;\n    flex: ","\n    overflow: hidden;\nobject-fit:cover\n"],["\nwidth:100%;\ndisplay: block;\nheight: 100%;\n    position: relative;\n    flex: ","\n    overflow: hidden;\nobject-fit:cover\n"])),(function(n){var e=n.cardSize;return m(e)?"1 1 0%;":"0 0 125px;"})),R=c.default("div")(N||(N=d(["\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  flex: 1;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"],["\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  flex: 1;\n  padding: 10px 15px;\n  min-width: 0;\n  box-sizing: border-box;\n  ",";\n"])),(function(n){var e=n.cardSize;return m(e)&&_})),C=c.default("header")(M||(M=d(["\n  text-align: left;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 0;\n  flex-grow: 1.2;\n\n  ",";\n"],["\n  text-align: left;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 0;\n  flex-grow: 1.2;\n\n  ",";\n"])),(function(n){var e=n.cardSize;return m(e)?T:k})),B=c.default("div")(D||(D=d(["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 1;\n  margin: auto 0;\n  line-height: 18px;\n\n  ",";\n"],["\n  text-align: left;\n  font-size: 14px;\n  flex-grow: 1;\n  margin: auto 0;\n  line-height: 18px;\n\n  ",";\n"])),(function(n){var e=n.cardSize;return m(e)?T:k})),H=c.default("footer")(G||(G=d(["\n  text-align: left;\n  font-size: 12px;\n  margin: 0;\n  flex-grow: 0;\n"],["\n  text-align: left;\n  font-size: 12px;\n  margin: 0;\n  flex-grow: 0;\n"]))),V=c.default("a")(W||(W=d(["\n  max-width: ",";\n  background-color: rgb(255, 255, 255);\n  color: rgb(24, 25, 25);\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  display: flex;\n  opacity: 1;\n  position: relative;\n  transition-duration: 0.35s;\n  transition-timing-function: ease-in-out;\n  flex-direction: ","\n    ",";\n\n  transition-property: background, border-color, height;\n  border-width: 1px;\n  border-style: solid;\n  border-color: rgb(225, 232, 237);\n  overflow: hidden;\n  text-decoration: none;\n  -webkit-tap-highlight-color: rgb(245, 248, 250);\n  cursor: pointer;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.08);\n  &:hover {\n    background: rgb(245, 248, 250);\n  }\n"],["\n  max-width: ",";\n  background-color: rgb(255, 255, 255);\n  color: rgb(24, 25, 25);\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  display: flex;\n  opacity: 1;\n  position: relative;\n  transition-duration: 0.35s;\n  transition-timing-function: ease-in-out;\n  flex-direction: ","\n    ",";\n\n  transition-property: background, border-color, height;\n  border-width: 1px;\n  border-style: solid;\n  border-color: rgb(225, 232, 237);\n  overflow: hidden;\n  text-decoration: none;\n  -webkit-tap-highlight-color: rgb(245, 248, 250);\n  cursor: pointer;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.08);\n  &:hover {\n    background: rgb(245, 248, 250);\n  }\n"])),(function(n){var e=n.width;return e||"100vw"}),(function(n){var e=n.cardSize;return m(e)?"column":"row"}),(function(n){var e=n.cardSize;return m(e)?E:x}));V.defaultProps={rel:"noopener noreferrer",target:"_blank"};var F,J,K,Z=t.keyframes(F||(F=d(["\n   0%{\n        background-position: 100% 80%;\n    }\n    100%{\n        background-position: 0 80%;\n    }\n"],["\n   0%{\n        background-position: 100% 80%;\n    }\n    100%{\n        background-position: 0 80%;\n    }\n"]))),$=t.css(J||(J=d(["\n  animation-duration: 1.4s;\n  animation-fill-mode: forwards;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  animation-name: ",";\n  background: darkgray;\n  background: linear-gradient(90deg, #cacaca 25%, #e4e4e4 37%, #f7f6f6 63%);\n  background-size: 800px 100%;\n  color: transparent;\n  -webkit-line-clamp: 1;\n  border-radius: 10px;\n  width: ",";\n"],["\n  animation-duration: 1.4s;\n  animation-fill-mode: forwards;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n  animation-name: ",";\n  background: darkgray;\n  background: linear-gradient(90deg, #cacaca 25%, #e4e4e4 37%, #f7f6f6 63%);\n  background-size: 800px 100%;\n  color: transparent;\n  -webkit-line-clamp: 1;\n  border-radius: 10px;\n  width: ",";\n"])),Z,(function(n){var e=n.loadingWidth;return e?100/e+"%":"100%"})),Q=c.default((function(n){n.loading,n.loadingWidth,n.maxLine,n.minLine;var e=n.className,t=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["loading","loadingWidth","maxLine","minLine","className"]);return a.createElement("p",u({},t,{className:e}),t.children)}))(K||(K=d(["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n    ","\n  }\n"],["\n  &&& {\n    text-align: inherit;\n    font-weight: inherit;\n    font-family: inherit;\n    color: inherit;\n    margin: 0;\n    ","\n  }\n"])),(function(n){return n.loading&&$})),X=/https?:\/\/(.*amazon\..*\/.*|.*amzn\..*\/.*|.*a\.co\/.*)/i,nn=/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/gi,en=/(https?:\/\/www\.)?instagram\.com(\/p\/\w+\/?)/gi,tn=function(n){return!!n.toString().match(en)},rn=/(https?:\/\/www\.)?boardgamegeek\.com(\/boardgame\/\w+\/\w+\/?)/gi,on=/(https?:\/\/(www)?\.?)?twitter\.com\/.+/gi,an=function(n){return!!n.toString().match(on)},cn=function(n){var e=function(n){return void 0===n.length?!Object.keys(n).some((function(e){return!cn(n[e])}))&&e(Object.keys(n)):!n.some((function(n){return!cn(n)}))};return 0==n||void 0===n||null==n||"object"==typeof n&&e(n)},un=function(n){var e=n.querySelector("title");return e?e.innerText:null},ln=function(n,e,t){var r=n.querySelector(e);return r?r.getAttribute(t):null},sn=function(n,e){var t=e.toLocaleLowerCase();return t.startsWith("http://")||t.startsWith("https://")?e:new URL(e,n).href},dn=function(n,e){return ln(n,"base","href")||new URL(e).origin},fn=function(n,e){return l(undefined,void 0,void 0,(function(){return s(this,(function(t){return[2,{title:n.substring(n.lastIndexOf("/")+1),description:n,image:[],video:[n,e].filter((function(n){return!cn(n)})),url:n,type:o.TYPE_VIDEO}]}))}))},pn=function(n,e){return l(undefined,void 0,void 0,(function(){return s(this,(function(t){return[2,{title:n.substring(n.lastIndexOf("/")+1),description:n.substring(n.lastIndexOf("/")+1),url:n,image:[e].filter((function(n){return!cn(n)})),video:[],type:o.TYPE_AUDIO}]}))}))},mn=function(n,e){return l(undefined,void 0,void 0,(function(){return s(this,(function(t){return[2,{title:n.substring(n.lastIndexOf("/")+1),description:n.substring(n.lastIndexOf("/")+1),url:n,video:[],image:[n,e].filter((function(n){return!cn(n)})),type:o.TYPE_IMAGE}]}))}))},gn=/"title":"(.+?)"/g,hn=function(n,e,t){return l(undefined,void 0,void 0,(function(){var r,i;return s(this,(function(a){r=function(n){var e=n.match(/^.*((m\.)?youtu\.be\/|vi?\/|u\/\w\/|embed\/|\?vi?=|\&vi?=)([^#\&\?]*).*/);return e&&e[3]?e[3]:null}(n),i=["https://img.youtube.com/vi/"+r+"/0.jpg","https://img.youtube.com/vi/"+r+"/1.jpg","https://img.youtube.com/vi/"+r+"/2.jpg","https://img.youtube.com/vi/"+r+"/3.jpg"];try{return[2,{title:JSON.parse("{"+e.querySelector("html").innerHTML.toString().match(gn)[0]+"}").title,url:n,description:n,type:o.TYPE_YOUTUBE,video:[],image:i.filter((function(n){return!cn(n)}))}]}catch(r){return[2,{title:e.querySelector("title").innerText,url:n,description:n,type:o.TYPE_YOUTUBE,video:[],image:t?i.concat([t]).filter((function(n){return!cn(n)})):i.filter((function(n){return!cn(n)}))}]}return[2]}))}))},vn=function(n,e,t){return l(undefined,void 0,void 0,(function(){var r,i;return s(this,(function(a){return r=dn(e,n),i=[ln(e,".a-dynamic-image","data-old-hires"),ln(e,".a-dynamic-image","src")],[2,{title:un(e),content:ln(e,"meta[name='description']","content"),url:ln(e,"meta[property='og:url']","content"),image:t?i.concat([t]).filter((function(n){return!cn(n)})):i.filter((function(n){return!cn(n)})).map((function(n){return sn(r,n)})),description:ln(e,"meta[name='description']","content"),video:[],type:o.TYPE_AMAZON,publisher:["Amazon"]}]}))}))},bn=function(n,e,t){return l(undefined,void 0,void 0,(function(){var r,i;return s(this,(function(a){return r=dn(e,n),i=[ln(e,'meta[property="og:logo"]',"content"),ln(e,'meta[itemprop="logo"]',"content"),ln(e,'img[itemprop="logo"]',"src"),ln(e,"meta[property='og:image']","content"),ln(e,'img[class*="logo" i]',"src"),ln(e,'img[src*="logo" i]',"src"),ln(e,'meta[property="og:image:secure_url"]',"content"),ln(e,'meta[property="og:image:url"]',"content"),ln(e,'meta[property="og:image"]',"content"),ln(e,'meta[name="twitter:image:src"]',"content"),ln(e,'meta[name="twitter:image"]',"content"),ln(e,'meta[itemprop="image"]',"content")].filter((function(n){return!cn(n)})).map((function(n){return sn(r,n)})),[2,{title:un(e),content:ln(e,"meta[name='description']","content"),url:ln(e,"meta[property='og:url']","content"),description:ln(e,"meta[name='description']","content"),video:[],image:t?i.concat([t]).filter((function(n){return!cn(n)})):i.filter((function(n){return!cn(n)})).map((function(n){return sn(r,n)})),type:o.TYPE_DEFAULT}]}))}))},yn=function(n,e,t){return l(undefined,void 0,void 0,(function(){var r;return s(this,(function(i){return[2,{title:(r=JSON.parse(e)).graphql.shortcode_media.accessibility_caption,content:n,url:n,description:r.title,video:null,image:t?[r.graphql.shortcode_media.display_url,t].filter((function(n){return!cn(n)})):[r.graphql.shortcode_media.display_url],type:o.TYPE_IMAGE}]}))}))},wn=function(n,e,t){return l(undefined,void 0,void 0,(function(){var r,i;return s(this,(function(a){return(r=ln(e,"base","href"))||(r=n),i=[ln(e,'meta[name="twitter:image:src"]',"content")],[2,{title:un(e),content:ln(e,"meta[name='description']","content"),url:ln(e,"meta[property='og:url']","content"),image:t?i.concat([t]).filter((function(n){return!cn(n)})):i.filter((function(n){return!cn(n)})).map((function(n){return sn(r,n)})),description:ln(e,"meta[name='description']","content"),video:[],type:o.TYPE_BOARDGAMEGEEK,publisher:["BoardGameGeek"]}]}))}))},xn=function(n,e,t,r){return l(undefined,void 0,void 0,(function(){var i,a,c,u,l;return s(this,(function(s){return i=JSON.parse(e),(a=document.createElement("html")).innerHTML=i.html,c=dn(t,n),u=[ln(t,"meta[property='og:image']","content"),ln(t,"meta[property='og:image:user_generated']","content"),"https://help.twitter.com/content/dam/help-twitter/twitter-logo.png"].filter((function(n){return!cn(n)})).map((function(n){return sn(c,n)})),l=[ln(t,"meta[property='og:video:url']","content"),ln(t,"meta[property='og:video:secure_url']","content")].filter((function(n){return!cn(n)})).map((function(n){return sn(c,n)})),[2,{title:a.querySelector("p").textContent,description:i.author_name,url:ln(t,"meta[property='og:url']","content"),video:l,image:r?u.concat([r]).filter((function(n){return!cn(n)})):u,type:o.TYPE_TWITTER,publisher:["Twitter"]}]}))}))},En=function(n,e,t){return l(undefined,void 0,void 0,(function(){var r,i,o,a;return s(this,(function(c){switch(c.label){case 0:return cn(n)?[3,20]:[4,e];case 1:return r=c.sent(),i=r.headers.get("content-type"),[4,r.text()];case 2:return o=c.sent(),a=(new DOMParser).parseFromString(o,"text/html"),function(n){return n.startsWith("video/")}(i)?[4,fn(n,t)]:[3,4];case 3:return[2,c.sent()];case 4:return function(n){return n.startsWith("audio/")}(i)?[4,pn(n,t)]:[3,6];case 5:return[2,c.sent()];case 6:return function(n){return n.startsWith("image/")}(i)?[4,mn(n,t)]:[3,8];case 7:return[2,c.sent()];case 8:return tn(n)?[4,yn(n,o,t)]:[3,10];case 9:return[2,c.sent()];case 10:return function(n){return!!n.toString().match(nn)}(n)?[4,hn(n,a,t)]:[3,12];case 11:return[2,c.sent()];case 12:return function(n){return X.test(n)}(n)?[4,vn(n,a,t)]:[3,14];case 13:return[2,c.sent()];case 14:return function(n){return!!n.toString().match(rn)}(n)?[4,wn(n,a,t)]:[3,16];case 15:return[2,c.sent()];case 16:return an(n)?[4,xn(n,o,a,t)]:[3,18];case 17:return[2,c.sent()];case 18:return[4,bn(n,a,t)];case 19:return[2,c.sent()];case 20:return[2]}}))}))},_n=function(n){var e=n.data,t=n.secureImageUrl,r=n.loadSecureUrl;if(r&&!t)return null;var i=e.image&&(r&&t?t:e.image[0]);return i?a.createElement("img",{style:{display:"none"},src:i,onError:function(n){n.target.parentElement.style.filter=""},onLoad:function(n){n.target.parentElement.style.filter=""}}):null},kn=function(n){var e=n.data,t=n.secureVideoUrl,r=n.loadSecureUrl,i=n.autoPlay;if(r&&!t)return null;var o=e.video&&(r&&t?t:e.video[0]);return o?a.createElement(q,{muted:!0,onCanPlayThrough:function(n){var e=n.target;setTimeout((function(){e.pause()}),1e3)},autoPlay:i,controls:!0},a.createElement("source",{src:o+"#t=0.1"})):null},Tn=function(n){var e=n.data,t=n.cardSize,r=n.autoPlay,i=n.loadSecureUrl,c=e.image&&v(e.image,g),u=e.video&&v(e.video,h);return a.createElement(a.Fragment,null,e.type!==o.TYPE_VIDEO&&a.createElement(O,{className:"react_tinylink_card_media",cardSize:t,src:e.image&&(c||e.image[0]),type:e.type,style:{WebkitFilter:"blur(10px)",filter:"blur(10px)"}},a.createElement(_n,{data:e,secureImageUrl:c,loadSecureUrl:i})),e.type&&e.type===o.TYPE_VIDEO&&a.createElement(O,{className:"react_tinylink_card_media",cardSize:t,src:e.video&&(u||e.video[0]),type:e.type},a.createElement(kn,{data:e,secureVideoUrl:u,autoPlay:r,loadSecureUrl:i})))},On=new Map;function Pn(n){var t=this,r=n.url,i=n.proxyUrl,o=void 0===i?"https://cors-anywhere.herokuapp.com":i,a=n.defaultMedias,c=void 0===a?[]:a,d=n.defaultValue,f=n.noCache,p=n.onError,m=n.onSuccess,g=n.requestHeaders,h=e.useState({response:d,loading:!0,error:void 0}),v=h[0],b=h[1];return e.useEffect((function(){var n,e,i=!0,a=(n=l(t,void 0,void 0,(function(){var n,e,t,a,l,d,h;return s(this,(function(s){switch(s.label){case 0:n={loading:!1,error:void 0},e=g,s.label=1;case 1:return s.trys.push([1,5,6,7]),t=o?o+"/"+r:r,tn(r)?t=a=r+"?__a=1&max_id=endcursor":an(r)&&(a="https://publish.twitter.com/oembed?url="+r,t=o?o+"/"+a:a),l=void 0,f||!On.has(t)?[3,2]:(l=On.get(t),[3,4]);case 2:return d=fetch(t,{headers:e}),[4,En(r,d,c)];case 3:l=s.sent(),On.set(t,l),s.label=4;case 4:return n.response=l,m&&i&&m(l),[2,l];case 5:return h=s.sent(),n.error=h,p&&i&&p(h),[2,h];case 6:return i&&b((function(e){return u({},e,n)})),[7];case 7:return[2]}}))})),e=!1,{promise:new Promise((function(t,r){n.then((function(n){return e?r({isCanceled:!0}):t(n)}),(function(n){return r(e?{isCanceled:!0}:n)}))})),cancel:function(){e=!0}});return a.promise.catch((function(){})),function(){i=!1,a.cancel()}}),[r,o,f]),[v.response,v.loading,v.error]}var Sn=Pn,Yn=En;n.ReactTinyLink=function(n){var e=n.cardSize,t=void 0===e?"small":e,r=n.maxLine,i=void 0===r?2:r,o=n.minLine,c=void 0===o?1:o,u=n.header,l=void 0===u?null:u,s=n.description,d=void 0===s?null:s,p=n.url,m=void 0===p?"":p,g=n.width,h=void 0===g?"640px":g,v=n.noCache,w=void 0!==v&&v,x=n.proxyUrl,E=void 0===x?"https://cors-anywhere.herokuapp.com":x,_=n.showGraphic,k=void 0===_||_,T=n.autoPlay,O=void 0!==T&&T,P=n.defaultMedia,S=void 0===P?"":P,Y=n.loadSecureUrl,U=void 0!==Y&&Y,A=n.onError,z=void 0===A?y:A,L=n.onSuccess,j=void 0===L?y:L,I=n.onClick,N=void 0===I?null:I,M=n.requestHeaders,D=S?[S]:[],G=Pn({url:m,proxyUrl:E,requestHeaders:void 0===M?{"x-requested-with":""}:M,defaultMedias:D,defaultValue:b(m,D),noCache:w,onError:z,onSuccess:j}),W=G[0],q=G[1];return a.createElement(V,{onClick:function(n){N&&(n.preventDefault(),N(n,W))},className:"react_tinylink_card",cardSize:t,href:m,width:h,isShownGraphic:k},k&&a.createElement(Tn,{autoPlay:O,cardSize:t,data:W,loadSecureUrl:U}),a.createElement(R,{className:"react_tinylink_card_content_wrapper",cardSize:t},a.createElement(C,{maxLine:i,minLine:c,className:"react_tinylink_card_content_header"},a.createElement(Q,{loading:q,loadingWidth:2,maxLine:i,minLine:c,className:"react_tinylink_card_content_header_description"},l||(W.title?W.title:m))),a.createElement(B,{maxLine:i,minLine:c,className:"react_tinylink_card_content",cardSize:t},a.createElement(Q,{loading:q,loadingWidth:1,className:"react_tinylink_card_content_description"},d||(W.description?W.description:m))),a.createElement(H,{className:"react_tinylink_footer"},a.createElement(Q,{loading:q,loadingWidth:1,className:"react_tinylink_card_footer_description"},new URL(m).hostname.replace(f,"")))))},n.ScrapperWraper=Yn,n.useScrapper=Sn,Object.defineProperty(n,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
